<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Tiara Sayangku! ‚ù§Ô∏è</title>
    
    <!-- Load Libraries (Membutuhkan Internet) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@300;500;700&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background: #fffafa;
            margin: 0;
            overflow-x: hidden;
        }
        .cursive { font-family: 'Dancing Script', cursive; }
        .serif { font-family: 'Playfair Display', serif; }
        
        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
        .animate-fall { animation: fall linear forwards; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slideUp { animation: slideUp 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        @keyframes heart-crazy {
            0%, 100% { transform: scale(1) rotate(0); }
            25% { transform: scale(1.6) rotate(15deg); }
            50% { transform: scale(1.2) rotate(-15deg); }
            75% { transform: scale(1.8) rotate(5deg); }
        }
        .animate-heart-crazy { animation: heart-crazy 0.2s infinite linear; }

        .shaking-intense { animation: shake-intense 0.05s infinite; }
        @keyframes shake-intense {
            0% { transform: translate(4px, 4px) rotate(0deg); }
            25% { transform: translate(-4px, -4px) rotate(-2deg); }
            50% { transform: translate(4px, -4px) rotate(2deg); }
            75% { transform: translate(-4px, 4px) rotate(-1deg); }
            100% { transform: translate(4px, 4px) rotate(0deg); }
        }

        @keyframes flicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; filter: contrast(2) brightness(2); } }
        .animate-flicker { animation: flicker 0.1s infinite; }

        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .animate-bounce-slow { animation: bounce-slow 3s infinite ease-in-out; }

        .perspective-1000 { perspective: 1000px; }
        .preserve-3d { transform-style: preserve-3d; }
        .rotate-x-180 { transform: rotateX(180deg); }
        
        .flicker-bg { animation: flicker-bg 0.1s infinite; }
        @keyframes flicker-bg {
            0%, 100% { background-color: #fff5f7; }
            50% { background-color: #e63946; }
        }

        .gold-glow {
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        @keyframes lid-fly {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            50% { transform: translateY(-150px) rotate(-20deg); opacity: 1; }
            100% { transform: translateY(-300px) rotate(-45deg); opacity: 0; }
        }
        .animate-lid-fly { animation: lid-fly 1s forwards ease-in; }

        @keyframes explode-particle {
            0% { transform: translate(0,0) scale(1); opacity: 1; }
            100% { transform: translate(var(--tw-translate-x), var(--tw-translate-y)) scale(0); opacity: 0; }
        }
        .particle { animation: explode-particle 1s forwards ease-out; }

        @keyframes shine-beam {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        .animate-shine { animation: shine-beam 1.2s forwards ease-out; }

        @keyframes toast-in {
            0% { transform: translateY(20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .animate-toast { animation: toast-in 0.5s ease-out forwards; }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow { animation: spin-slow 8s linear infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const CONFIG = {
            musik: "revisi.mp3", 
            fotoProfilUtama: "utama.jpg",
            fotoWrapped: "utama.jpg",
            galeri: [
                "lucu.jpg",
                "memorable.jpg",
                "dinner.jpg",
                "ngambek.jpg",
                "favorite.jpg",
                "ganjar.jpg",
            ]
        };
        
        const Icon = ({ name, size = 24, className = "", strokeWidth = 2, fill = "none" }) => {
            const icons = {
                heart: <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />,
                "volume-2": <><path d="M11 5 6 9H2v6h4l5 4V5Z" /><path d="M15.54 8.46a5 5 0 0 1 0 7.07" /><path d="M19.07 4.93a10 10 0 0 1 0 14.14" /></>,
                "volume-x": <><path d="M11 5 6 9H2v6h4l5 4V5Z" /><line x1="22" y1="9" x2="16" y2="15" /><line x1="16" y1="9" x2="22" y2="15" /></>,
                home: <><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" /><polyline points="9 22 9 12 15 12 15 22" /></>,
                camera: <><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" /><circle cx="12" cy="13" r="3" /></>,
                "bar-chart-3": <><path d="M3 3v18h18" /><path d="M18 17V9" /><path d="M13 17V5" /><path d="M8 17v-3" /></>,
                ticket: <><path d="M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z" /><path d="m9 12 2 2 4-4" /></>,
                star: <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />,
                sparkles: <><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" /><path d="M5 3v4" /><path d="M19 17v4" /><path d="M3 5h4" /><path d="M17 19h4" /></>,
                zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />,
                gift: <><polyline points="20 12 20 22 4 22 4 12" /><rect width="20" height="5" x="2" y="7" /><line x1="12" y1="22" x2="12" y2="7" /><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z" /><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z" /></>,
                award: <><circle cx="12" cy="8" r="7" /><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" /></>,
                "chevron-left": <path d="m15 18-6-6 6-6" />,
                "chevron-right": <path d="m9 18 6-6-6-6" />,
                check: <path d="M20 6 9 17l-5-5" />,
                timer: <><line x1="10" x2="14" y1="2" y2="2" /><line x1="12" x2="12" y1="14" y2="11" /><circle cx="12" cy="14" r="8" /></>,
                "alert-triangle": <><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" /><line x1="12" y1="9" x2="12" y2="13" /><line x1="12" y1="17" x2="12.01" y2="17" /></>
            };

            const fillValue = fill === "heart" ? "currentColor" : fill;

            return (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width={size}
                    height={size}
                    viewBox="0 0 24 24"
                    fill={fillValue}
                    stroke="currentColor"
                    strokeWidth={strokeWidth}
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    className={className}
                >
                    {icons[name] || null}
                </svg>
            );
        };

        const App = () => {
            const [isOpened, setIsOpened] = useState(false);
            const [isOpening, setIsOpening] = useState(false);
            const [activeTab, setActiveTab] = useState('home');
            const [isMuted, setIsMuted] = useState(false);
            const [typingText, setTypingText] = useState('');
            const [currentSlide, setCurrentSlide] = useState(0);
            const [loveProgress, setLoveProgress] = useState(0);
            const [isCalculating, setIsCalculating] = useState(false);
            const [showLoveResult, setShowLoveResult] = useState(false);
            const [claimedCoupons, setClaimedCoupons] = useState([]);
            const [hearts, setHearts] = useState([]);
            const [timeTogether, setTimeTogether] = useState({ days: 0, hours: 0, mins: 0, secs: 0 });
            const [giftTaps, setGiftTaps] = useState(0);
            const [isGiftOpened, setIsGiftOpened] = useState(false);
            const [isExploding, setIsExploding] = useState(false);
            const [showMusicToast, setShowMusicToast] = useState(false);

            const audioRef = useRef(null);
            const fullMessage = "Tiara sayanggkuu, selamat ulang tahun dan selamat juga buat hubungan kita yang hari ini genap 2 tahun, dua tahun yang rasanya cepet tapi penuh cerita dan pelajaran, dari tawa tawa receh yang ga penting tapi selalu bikin kangen sampai hari hari capek yang kadang bikin pengen nyerah tapi akhirnya bisa dilewatin karena ada kamu di samping aku, makasih ya udah bertahan sejauh ini sama aku dengan segala kurang lebihku yang kadang keras kepala, kadang egois, kadang ga peka dan ga pandai nunjukin perasaan tapi selalu berusaha sayang dengan caraku sendiri, karena sama kamu aku belajar kalau cinta itu bukan cuma soal bahagia atau momen manis aja tapi juga soal sabar, soal ngerti walau capek, soal dengerin walau ga selalu setuju, dan soal tetep milih satu sama lain walau keadaan lagi ga baik baik aja, buat aku kamu itu bukan cuma pasangan tapi rumah tempat aku pulang setelah hari yang panjang, tempat aku ngerasa aman, tenang, dan diterima tanpa harus jadi versi yang sempurna, dan di ulang tahun kamu ini aku berharap kamu selalu sehat, bahagia, dan kuat ngejalanin hidup kamu, semoga semua mimpi dan harapan kamu pelan pelan nemuin jalannya, semoga kamu selalu dikelilingi hal hal baik dan orang orang yang tulus, dan semoga kamu ga pernah lupa kalau kamu itu berharga dan layak dicintai sepenuh itu, sementara aku dengan segala kerendahanku cuma pengen terus ada di samping kamu, nemenin kamu tumbuh, jatuh, bangkit lagi, belajar, tertawa, dan ngelewatin hari hari ke depan bareng, ngerayain ulang tahun ulang tahun berikutnya, cerita cerita kecil yang belum kejadian, dan masa depan yang mungkin belum jelas tapi pengennya tetap kita jalanin bareng, karena aku sayang kamu bukan cuma hari ini tapi setiap hari selama aku masih punya rasa ini ü§ç" ;       
            
            useEffect(() => {
                const startDate = new Date(2024, 0, 2); 
                const timer = setInterval(() => {
                    const now = new Date();
                    const diff = now - startDate;
                    setTimeTogether({
                        days: Math.floor(diff / (1000 * 60 * 60 * 24)),
                        hours: Math.floor((diff / (1000 * 60 * 60)) % 24),
                        mins: Math.floor((diff / 1000 / 60) % 60),
                        secs: Math.floor((diff / 1000) % 60)
                    });
                }, 1000);
                return () => clearInterval(timer);
            }, []);

            useEffect(() => {
                const interval = setInterval(() => {
                    const newHeart = {
                        id: Date.now() + Math.random(),
                        left: Math.random() * 100,
                        size: Math.random() * 20 + 15,
                        duration: Math.random() * 3 + 3,
                        emoji: ['‚ù§Ô∏è', 'üíñ', 'üåπ', 'üå∏', 'üíï', 'üß∏', '‚ú®'][Math.floor(Math.random() * 7)]
                    };
                    setHearts(prev => [...prev.slice(-30), newHeart]);
                }, 500);
                return () => clearInterval(interval);
            }, []);

            useEffect(() => {
                if (isOpened && activeTab === 'home' && typingText.length < fullMessage.length) {
                    const timeout = setTimeout(() => {
                        setTypingText(fullMessage.slice(0, typingText.length + 1));
                    }, 40);
                    return () => clearTimeout(timeout);
                }
            }, [isOpened, activeTab, typingText]);

            const wrappedSlides = [
                { bg: 'bg-[#b91c1c]', title: '2024-2026 WRAPPED', subtitle: 'Statistik 2 tahun perjalanan cinta kita.', icon: 'sparkles' },
                { bg: 'bg-[#9f1239]', title: '1.051.200 MENIT', subtitle: 'Waktu yang kita habiskan untuk tertawa bersama.', icon: 'timer' },
                { bg: 'bg-[#be123c]', title: 'TOP ARTIST: KAMU', subtitle: 'Suaramu adalah satu-satunya melodi favoritku, ihiyy.', img: CONFIG.fotoWrapped },
                { bg: 'bg-[#e11d48]', title: 'GENRE: KACAUUUUUUU', subtitle: 'Rangkuman: 50% Debatt, 30% Ngakak, 50% Romantis.', icon: 'heart' },
                { bg: 'bg-[#881337]', title: 'VIBE: SOULMATES', subtitle: 'Sistem mendeteksi tingkat kecocokan 999.999%.', icon: 'zap' },
                { bg: 'bg-[#4c0519] border-4 border-[#fb7185]', title: 'TERUS BERSAMAKU?', subtitle: 'Ayooo buat tahun ke-3 lebih indah lagi.', icon: 'star' }
            ];

            const nextSlide = () => setCurrentSlide((prev) => (prev + 1) % wrappedSlides.length);
            const prevSlide = () => setCurrentSlide((prev) => (prev - 1 + wrappedSlides.length) % wrappedSlides.length);

            const openEnvelope = () => {
                setIsOpening(true);
                if (audioRef.current) {
                    audioRef.current.play().then(() => {
                        setShowMusicToast(true);
                        setTimeout(() => setShowMusicToast(false), 3500);
                    }).catch((err) => console.log("Musik tertunda:", err));
                }
                setTimeout(() => {
                    setIsOpened(true);
                    setIsOpening(false);
                }, 2800);
            };

            const toggleMusic = () => {
                if (!audioRef.current) return;
                if (isMuted) { audioRef.current.play().catch(e => {}); setIsMuted(false); } 
                else { audioRef.current.pause(); setIsMuted(true); }
            };

            const startLoveAnalysis = async () => {
                setIsCalculating(true);
                setLoveProgress(0);
                setShowLoveResult(false);
                for(let i = 0; i <= 100; i++) {
                    setLoveProgress(i);
                    const delay = i > 90 ? 250 : (i > 70 ? 100 : 30);
                    await new Promise(r => setTimeout(r, delay));
                }
                setTimeout(() => { setShowLoveResult(true); setIsCalculating(false); }, 600);
            };

            const handleGiftClick = () => {
                if (isGiftOpened || isExploding) return;
                setGiftTaps(prev => {
                    const next = prev + 1;
                    if (next >= 10) {
                        setIsExploding(true);
                        setTimeout(() => {
                            setIsGiftOpened(true);
                            setIsExploding(false);
                        }, 1200);
                        return 10;
                    }
                    return next;
                });
            };

            return (
                <div className={`min-h-screen pb-24 transition-all duration-100 ${isCalculating && loveProgress > 85 || isExploding ? 'shaking-intense flicker-bg overflow-hidden' : 'bg-[#fffafa]'}`}>
                    
                    <audio ref={audioRef} loop preload="auto">
                        <source src={CONFIG.musik} type="audio/mpeg" />
                    </audio>

                    {showMusicToast && (
                        <div className="fixed top-16 left-1/2 -translate-x-1/2 z-[100] bg-white px-4 py-2 rounded-full shadow-2xl border border-rose-100 flex items-center gap-3 animate-toast w-[90%] max-w-[320px]">
                            <div className="bg-[#e63946] p-1.5 rounded-full animate-spin-slow flex-shrink-0">
                                <Icon name="volume-2" size={14} className="text-white" />
                            </div>
                            <div className="overflow-hidden">
                                <p className="text-[8px] font-black text-rose-500 uppercase tracking-widest">Now Playing</p>
                                <p className="text-xs font-bold text-gray-800 truncate">Penjaga Hati - Nadhif Basalamah‚ù§Ô∏è</p>
                            </div>
                        </div>
                    )}

                    {isOpened && (
                        <button onClick={toggleMusic} className="fixed top-4 right-4 z-[70] bg-white p-2 rounded-full shadow-lg border border-rose-200">
                            {isMuted ? <Icon name="volume-x" size={20} className="text-gray-400" /> : <Icon name="volume-2" size={20} className="text-[#e63946] animate-pulse" />}
                        </button>
                    )}

                    <div className="fixed inset-0 pointer-events-none z-0">
                        {hearts.map(heart => (
                            <div key={heart.id} className="absolute animate-fall" style={{ left: `${heart.left}%`, fontSize: `${heart.size}px`, animationDuration: `${heart.duration}s`, top: '-50px' }}>
                                {heart.emoji}
                            </div>
                        ))}
                    </div>

                    {!isOpened ? (
                        <div className={`min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden relative text-center transition-all duration-1000 perspective-1000 ${isOpening ? 'scale-110' : ''}`}>
                            <div className={`transition-all duration-1000 ${isOpening ? 'opacity-0 -translate-y-20' : 'opacity-100'}`}>
                                <h1 className="text-4xl sm:text-5xl font-bold text-[#e63946] mb-4 animate-bounce cursive">Hello 19! üéÇ</h1>
                                <p className="text-rose-400 mb-8 italic text-base sm:text-lg">Ada paket spesial 2 tahun... Sentuh ‚ù§Ô∏è</p>
                            </div>

                            <div onClick={openEnvelope} className={`relative w-72 h-44 sm:w-80 sm:h-52 bg-[#f43f5e] rounded-b-2xl shadow-2xl cursor-pointer transition-all duration-[1500ms] group z-10 preserve-3d ${isOpening ? 'scale-110' : 'hover:scale-105'}`}>
                                <div className={`absolute top-0 left-0 w-full h-full bg-[#fb7185] rounded-t-2xl origin-top transition-transform duration-[1200ms] z-30 preserve-3d ${isOpening ? 'rotate-x-180' : 'group-hover:rotate-x-[30deg]'}`} 
                                     style={{ clipPath: 'polygon(0 0, 50% 50%, 100% 0)' }}>
                                </div>
                                
                                <div className={`absolute left-4 right-4 bg-white rounded-lg flex flex-col items-center justify-center shadow-2xl transition-all duration-[2000ms] ease-in-out border border-rose-50 ${isOpening ? '-translate-y-40 h-56 sm:h-64 opacity-100 z-20' : 'bottom-6 h-32 opacity-100 z-10'}`}>
                                    <div className="p-4 text-center">
                                        <Icon name="heart" size={isOpening ? 56 : 40} className={`mx-auto text-[#e63946] transition-all duration-1000 ${isOpening ? 'scale-125 animate-heart-crazy' : 'animate-pulse'}`} fill="#e63946" />
                                        {isOpening && (
                                            <div className="mt-4 animate-slideUp">
                                                <p className="text-[10px] font-black text-rose-500 uppercase tracking-widest">Membuka Kenangan...</p>
                                            </div>
                                        )}
                                    </div>
                                </div>

                                <div className="absolute bottom-0 left-0 w-full h-full bg-[#f43f5e] rounded-b-2xl z-20 shadow-lg" style={{ clipPath: 'polygon(0 100%, 0 45%, 50% 100%, 100% 45%, 100% 100%)' }}></div>
                            </div>
                            {isOpening && <div className="fixed inset-0 bg-white/40 backdrop-blur-[2px] z-[5] animate-pulse"></div>}
                        </div>
                    ) : (
                        <div className="w-full max-w-lg mx-auto px-4 pt-6 pb-20 relative z-10">
                            {activeTab === 'home' && (
                                <div className="animate-slideUp space-y-4">
                                    <div className="bg-white p-6 sm:p-8 rounded-[2rem] shadow-xl text-center border-b-8 border-rose-50 relative overflow-hidden">
                                        <div className="absolute top-0 left-0 w-full h-2 bg-[#e63946]"></div>
                                        <span className="bg-rose-50 text-rose-600 px-4 py-1 rounded-full text-[9px] font-black uppercase tracking-[0.2em] mb-4 inline-block">Sweet 19 Milestone</span>
                                        <h1 className="text-4xl font-bold text-[#e63946] mb-6 cursive">Happy Birthday!</h1>
                                        
                                        <div className="flex justify-center mb-6 relative">
                                            <div className="w-36 h-36 sm:w-44 sm:h-44 overflow-hidden rounded-full border-4 border-white shadow-xl transform hover:rotate-6 transition-transform">
                                                <img src={CONFIG.fotoProfilUtama} alt="Pacar" className="w-full h-full object-cover" />
                                            </div>
                                            <div className="absolute -top-2 -right-2 bg-[#e63946] text-white w-12 h-12 rounded-full flex items-center justify-center font-bold shadow-lg transform rotate-12 border-2 border-white animate-pulse">19</div>
                                        </div>

                                        <div className="bg-rose-50 p-4 sm:p-6 rounded-2xl mb-6 border border-rose-100 shadow-inner">
                                            <p className="text-[10px] font-black text-rose-400 uppercase tracking-[0.2em] mb-3">Total Waktu Bersamamu</p>
                                            <div className="grid grid-cols-4 gap-1.5 text-[#e63946]">
                                                <div className="bg-white p-2 rounded-xl shadow-sm"><p className="text-xl font-black">{timeTogether.days}</p><p className="text-[7px] font-bold text-gray-400 uppercase">Hari</p></div>
                                                <div className="bg-white p-2 rounded-xl shadow-sm"><p className="text-xl font-black">{timeTogether.hours}</p><p className="text-[7px] font-bold text-gray-400 uppercase">Jam</p></div>
                                                <div className="bg-white p-2 rounded-xl shadow-sm"><p className="text-xl font-black">{timeTogether.mins}</p><p className="text-[7px] font-bold text-gray-400 uppercase">Menit</p></div>
                                                <div className="bg-[#e63946] text-white p-2 rounded-xl shadow-md"><p className="text-xl font-black">{timeTogether.secs}</p><p className="text-[7px] font-bold opacity-80 uppercase">Detik</p></div>
                                            </div>
                                        </div>
                                        <div className="text-sm sm:text-base italic text-gray-700 bg-rose-50/20 p-4 sm:p-6 rounded-2xl min-h-[120px] flex items-center justify-center leading-relaxed">
                                            "{typingText}"
                                        </div>
                                    </div>
                                </div>
                            )}

                            {activeTab === 'moments' && (
                                <div className="animate-slideUp text-center space-y-6">
                                    <h2 className="text-3xl font-bold text-[#e63946] cursive">730 Hari Memori ‚ú®</h2>
                                    <div className="grid grid-cols-2 gap-4 p-2">
                                        {[
                                            'Lucu', 'First Date', 'Dinner', 
                                            'Ngambek', 'Favorit', 'Ganjar'
                                        ].map((label, idx) => (
                                            <div key={idx} className="bg-white p-2 pb-5 shadow-lg transform transition-all hover:scale-105" style={{ transform: `rotate(${Math.random() * 6 - 3}deg)` }}>
                                                <img src={CONFIG.galeri[idx] || CONFIG.fotoProfilUtama} className="w-full aspect-[4/5] object-cover mb-2 rounded-sm" alt={label} />
                                                <p className="text-[9px] font-black text-rose-500 italic uppercase">{label}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {activeTab === 'wrapped' && (
                                <div className="animate-slideUp flex flex-col items-center">
                                    <div className="relative rounded-[2.5rem] overflow-hidden shadow-2xl w-full aspect-[9/16] max-h-[70vh] bg-neutral-900 border-4 border-white">
                                        <div className="absolute top-4 left-4 right-4 flex gap-1 z-50">
                                            {wrappedSlides.map((_, idx) => (
                                                <div key={idx} className="h-1 flex-1 bg-white/20 rounded-full overflow-hidden">
                                                    <div className={`h-full bg-white transition-all duration-[5000ms] ease-linear ${idx < currentSlide ? 'w-full' : idx === currentSlide ? 'w-full' : 'w-0'}`}></div>
                                                </div>
                                            ))}
                                        </div>
                                        <div className={`w-full h-full p-8 flex flex-col items-center justify-center text-center text-white transition-all duration-700 ${wrappedSlides[currentSlide].bg}`}>
                                            <div className="animate-bounce-slow mb-6">
                                                {wrappedSlides[currentSlide].icon ? <Icon name={wrappedSlides[currentSlide].icon} size={60} className="text-white" /> : ''}
                                            </div>
                                            {wrappedSlides[currentSlide].img && (
                                                <img src={wrappedSlides[currentSlide].img} className="w-32 h-32 rounded-full border-4 border-white object-cover shadow-2xl mb-6" alt="Wrapped" />
                                            )}
                                            <h3 className="text-2xl sm:text-3xl font-black italic uppercase leading-tight mb-4 tracking-tighter">{wrappedSlides[currentSlide].title}</h3>
                                            <p className="text-base sm:text-lg font-bold px-2">{wrappedSlides[currentSlide].subtitle}</p>
                                        </div>
                                        <div className="absolute inset-0 flex z-40">
                                            <div className="flex-1 cursor-pointer" onClick={prevSlide}></div>
                                            <div className="flex-1 cursor-pointer" onClick={nextSlide}></div>
                                        </div>
                                    </div>
                                    <p className="text-center text-[9px] text-gray-500 mt-3 font-black uppercase tracking-widest italic">Ketuk sisi kanan untuk lanjut</p>
                                </div>
                            )}

                            {activeTab === 'coupons' && (
                                <div className="animate-slideUp text-center space-y-6">
                                    <h2 className="text-3xl font-bold text-[#e63946] cursive">Golden Love Tickets üéüÔ∏è</h2>
                                    <div className="grid gap-4 px-2">
                                        {[
                                            { id: 1, title: 'Nasi Goreng Spesial', sub: 'Nasi Goreng Kemiri.', icon: 'heart', color: 'bg-[#9b2226]' },
                                            { id: 2, title: 'Golden Ticket', sub: 'Bisa digunakan untuk apa saja.', icon: 'star', color: 'bg-[#ae2012]' },
                                            { id: 3, title: 'Seruling Surga', sub: 'Nyanyian manis dari aku.', icon: 'gift', color: 'bg-[#bb3e03]' }
                                        ].map(coupon => (
                                            <div key={coupon.id} onClick={() => !claimedCoupons.includes(coupon.id) && setClaimedCoupons([...claimedCoupons, coupon.id])} className={`relative overflow-hidden rounded-2xl shadow-lg transition-all ${claimedCoupons.includes(coupon.id) ? 'grayscale opacity-50 scale-95' : 'active:scale-95'}`}>
                                                <div className={`${coupon.color} p-6 flex items-center justify-between text-white`}>
                                                    <div className="text-left">
                                                        <h4 className="text-lg font-black uppercase italic leading-none mb-1">{coupon.title}</h4>
                                                        <p className="text-[10px] opacity-90 font-medium">{coupon.sub}</p>
                                                    </div>
                                                    <div className="bg-white/10 p-3 rounded-xl border border-white/20"><Icon name={coupon.icon} size={24} /></div>
                                                </div>
                                                {claimedCoupons.includes(coupon.id) && (
                                                    <div className="absolute inset-0 flex items-center justify-center bg-black/40"><span className="border-4 border-white text-white font-black px-4 py-2 rotate-[-10deg] rounded-lg text-xl tracking-widest">TERKLAIM</span></div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {activeTab === 'love' && (
                                <div className="animate-slideUp text-center px-2">
                                    <div className="bg-white p-8 rounded-[2.5rem] shadow-xl border-2 border-rose-50 relative overflow-hidden">
                                        <h2 className="text-2xl font-bold text-[#e63946] mb-8 cursive">Love Engine 2.0</h2>
                                        <div className={`text-7xl mb-10 inline-block ${isCalculating ? 'animate-heart-crazy' : 'animate-pulse'}`}>{showLoveResult ? 'üß®' : '‚ù§Ô∏è'}</div>
                                        <div className="relative mb-8">
                                            <div className="w-full bg-rose-50 rounded-full h-16 border-4 border-rose-100 shadow-inner overflow-hidden relative">
                                                <div className="bg-[#e63946] h-full transition-all duration-300" style={{ width: `${loveProgress}%` }}></div>
                                                <div className="absolute inset-0 flex items-center justify-center text-rose-900 font-black italic text-xl">{loveProgress}%</div>
                                            </div>
                                            <p className="mt-3 text-[9px] font-black uppercase tracking-widest text-rose-500">
                                                {isCalculating ? 'Scanning Heartbeats...' : 'Core Temp: Stable'}
                                            </p>
                                        </div>
                                        {!showLoveResult ? (
                                            <button onClick={startLoveAnalysis} disabled={isCalculating} className="bg-[#e63946] text-white px-8 py-4 rounded-full font-black shadow-lg active:scale-95 transition-all w-full uppercase tracking-widest text-xs">
                                                {isCalculating ? 'PROCESSING...' : 'Cek Kadar Cintaku ‚ú®'}
                                            </button>
                                        ) : (
                                            <div className="space-y-4 animate-slideUp">
                                                <div className="bg-[#e63946] text-white p-5 rounded-2xl border-4 border-white shadow-md">
                                                    <p className="font-black text-xl uppercase tracking-tighter leading-none mb-1">CRITICAL ERROR!</p>
                                                    <p className="text-[8px] font-bold opacity-80 uppercase tracking-widest text-white">DATA TERLALU BESAR</p>
                                                </div>
                                                <p className="text-gray-800 italic font-bold text-sm px-2">
                                                    "Aduhhh cintaku besar banget jadi meledak!"
                                                </p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            )}

                            {activeTab === 'gift' && (
                                <div className="animate-slideUp text-center px-2">
                                    <h2 className="text-3xl font-bold text-[#e63946] mb-4 cursive">Kado Misteri üéÅ</h2>
                                    <p className="text-[10px] text-gray-500 mb-8 italic uppercase tracking-widest">Ketuk kado ini 10x!</p>
                                    
                                    {!isGiftOpened ? (
                                        <div onClick={handleGiftClick} className="relative mx-auto w-56 h-56 flex items-center justify-center">
                                            {isExploding && (
                                                <div className="absolute inset-0 z-50 flex items-center justify-center">
                                                    <div className="w-1 h-1 bg-white rounded-full animate-shine shadow-[0_0_80px_40px_rgba(255,255,255,1)]"></div>
                                                </div>
                                            )}

                                            <div className={`relative w-full h-full cursor-pointer transition-all duration-75 ${giftTaps > 0 && !isExploding ? 'scale-110' : ''}`}>
                                                <div className={`absolute -top-3 -left-1 -right-1 h-12 bg-[#e63946] rounded-t-xl z-30 shadow-md ${isExploding ? 'animate-lid-fly' : ''}`}>
                                                    <div className="absolute top-1/2 left-0 w-full h-3 bg-[#c1121f]"></div>
                                                </div>
                                                <div className="absolute inset-0 bg-[#e63946] rounded-b-[2rem] shadow-xl flex items-center justify-center overflow-hidden border-4 border-white/10 z-20">
                                                    <Icon name="gift" size={80} className={`text-white transition-all ${giftTaps > 0 ? 'animate-bounce' : ''}`} fill="rgba(255,255,255,0.2)" />
                                                    <div className="absolute top-0 left-1/2 -translate-x-1/2 w-6 h-full bg-[#c1121f]"></div>
                                                    <div className="absolute top-1/2 left-0 -translate-y-1/2 w-full h-6 bg-[#c1121f]"></div>
                                                </div>
                                                <div className="absolute -bottom-10 left-1/2 -translate-x-1/2 bg-white text-[#e63946] py-2 px-6 rounded-full font-black shadow-md border-2 border-rose-100 whitespace-nowrap z-10 text-[10px]">
                                                    PROGRESS: {giftTaps}/10
                                                </div>
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="bg-white p-1 rounded-[2.5rem] shadow-xl border-4 border-[#ae2012] animate-slideUp max-w-sm mx-auto">
                                            <div className="bg-white p-6 rounded-[2.3rem] border-2 border-rose-50 text-center">
                                                <Icon name="award" size={48} className="mx-auto text-[#ae2012] mb-4 p-1.5 bg-rose-50 rounded-full gold-glow" />
                                                <h3 className="text-xl font-black text-gray-800 mb-1 uppercase serif italic leading-tight">The Certificate of Infinite Love</h3>
                                                <p className="text-[8px] font-black uppercase text-[#ae2012] tracking-[0.2em] mb-4">No. 19-02-FOREVER</p>
                                                
                                                <div className="text-gray-700 italic leading-relaxed mb-6 text-xs bg-rose-50/50 p-4 rounded-xl border border-rose-100">
                                                   "Terima kasih telah menjadi cahaya dalam hidupku. Aku berjanji untuk selalu mendukungmu dan mencintaimu setiap hari."
                                                </div>
                                                
                                                <div className="flex flex-col items-center">
                                                    <p className="text-[8px] font-bold text-gray-400 uppercase tracking-widest mb-1">Tertanda dari Hatiku,</p>
                                                    <p className="cursive text-2xl text-[#e63946] font-bold">Pacar Tersayang ‚ù§Ô∏è</p>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}

                            <nav className="fixed bottom-4 left-4 right-4 bg-white/95 backdrop-blur-md border border-rose-100 flex justify-around items-center p-3 z-50 rounded-3xl shadow-2xl">
                                {[
                                    { id: 'home', icon: 'home', label: 'Home' },
                                    { id: 'moments', icon: 'camera', label: 'Memori' },
                                    { id: 'wrapped', icon: 'bar-chart-3', label: 'Wrapped' },
                                    { id: 'coupons', icon: 'ticket', label: 'Kupon' },
                                    { id: 'love', icon: 'heart', label: 'Cinta' },
                                    { id: 'gift', icon: 'gift', label: 'Kado' }
                                ].map(item => (
                                    <button key={item.id} onClick={() => setActiveTab(item.id)} className={`flex flex-col items-center flex-1 transition-all duration-300 ${activeTab === item.id ? 'text-[#e63946] scale-110 -translate-y-1 font-black' : 'text-gray-300 opacity-60'}`}>
                                        <Icon name={item.icon} size={20} strokeWidth={activeTab === item.id ? 3 : 2} />
                                        <span className={`text-[6px] uppercase mt-1 tracking-tighter transition-opacity ${activeTab === item.id ? 'opacity-100' : 'opacity-0'}`}>{item.label}</span>
                                    </button>
                                ))}
                            </nav>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>